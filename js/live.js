function jbSetCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var a="expires="+o.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function jbGetCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function jbDeleteCookie(e){setCookie(e,"",-1)}function JBTemplateEngine(e,t){for(var n,o=/<%([^%>]+)?%>/g;n=o.exec(e);)e=e.replace(n[0],t[n[1]]);return e}String.prototype.jbCleanNumber=function(){var e=this.replace(/[^0-9.-]/g,"");return(isNaN(e)||""==e)&&(e=0),e},Number.prototype.jbFormatMoney=function(e,t,n){var o=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,n=void 0==n?",":n,a=o<0?"-":"",i=parseInt(o=Math.abs(+o||0).toFixed(e))+"",r=(r=i.length)>3?r%3:0;return a+(r?i.substr(0,r)+n:"")+i.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(o-i).toFixed(e).slice(2):"")},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},Number.prototype.random=function(){var e=1,t=Math.floor(this);return Math.floor(Math.random()*(t-e+1))+e},Number.prototype.round=function(e){var t=Math.pow(10,e||0);return Math.round(this*t)/t},window.scrollTo(0,1),$(document).ready(function(){$menu=$("#menu"),$shade=$("#menu-shade"),$toggle=$(".menu-toggle"),$rollers=$(".roller"),$rollerModal=$("#roller-modal"),$mutate=$(".mutate"),$mutateModal=$("#mutate-modal"),$info=$(".info"),$infoModal=$("#info-modal"),$addPower=$("#add-power"),$powerModal=$("#power-modal"),$addEquipment=$("#add-equipment"),$equipmentModal=$("#equipment-modal"),$actionModals=$(".action-modal"),$actionContent=$(".action-content"),$actionClose=$(".action-close"),$increment=$(".increment"),$decrement=$(".decrement"),$numberInputs=$(".number-control"),$actionDice=$(".action-dice"),$actionDiceResult=$("#dice-result"),$toggle.click(function(e){$menu.toggleClass("open"),$shade.toggleClass("open")}),$shade.click(function(e){$menu.removeClass("open"),$shade.removeClass("open")}),$numberInputs.on("input",function(){return this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength))}),$actionContent.click(function(e){e.stopPropagation()}),$actionClose.click(function(e){$actionModals.removeClass("open")}),$actionModals.click(function(e){$(this).removeClass("open")}),$rollers.click(function(e){$rollerModal.addClass("open")}),$mutate.click(function(e){$mutateModal.addClass("open")}),$info.click(function(e){$infoModal.addClass("open")}),$addPower.click(function(e){$powerModal.addClass("open")}),$addEquipment.click(function(e){$equipmentModal.addClass("open")}),$increment.click(function(e){var t=$(this).data("target"),n=parseInt($("#"+t).val().jbCleanNumber())+1;n<0&&(n=0),$("#"+t).val(n)}),$decrement.click(function(e){var t=$(this).data("target"),n=parseInt($("#"+t).val().jbCleanNumber())-1;n<0&&(n=0),$("#"+t).val(n)});var e=!1,t=null;$actionDice.click(function(n){n.preventDefault(),n.stopPropagation(),e=!0,t&&clearTimeout(t);var o=parseInt($(this).data("value"));$actionDiceResult.css("left",$(this).position().left).addClass("open").find("span").html(o.random()),t=setTimeout(function(){$actionDiceResult.removeClass("open")},2e3)})});